(this.webpackJsonpreact_zt=this.webpackJsonpreact_zt||[]).push([[0],{20:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},26:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),i=(a(25),a(6)),c=a(4),u=a(7),s=(a(26),function(e){var t=e.handleSubmit,a=Object(n.useState)({row:4,col:4}),r=Object(i.a)(a,2),o=r[0],u=r[1],s=function(e){"row"===e.target.id?u({row:e.target.value<10&&e.target.value>1?e.target.value:o.row,col:o.col}):"col"===e.target.id&&u({row:o.row,col:e.target.value<10&&e.target.value>1?e.target.value:o.col})},y=function(e){e.target.value=""},h=function(e){"row"===e.target.id?e.target.value=o.row:"col"===e.target.id&&(e.target.value=o.col)};return l.a.createElement("div",{className:"CreateWrapper"},l.a.createElement("label",{htmlFor:"row"},"Ilo\u015b\u0107 wierszy "),l.a.createElement("input",{type:"number",onFocus:y,onBlur:h,value:o.row,onChange:s,id:"row"}),l.a.createElement("label",{htmlFor:"col"},"Ilo\u015b\u0107 kolumn "),l.a.createElement("input",{type:"number",onFocus:y,onBlur:h,value:o.col,onChange:s,id:"col"}),l.a.createElement(c.b,{onClick:function(){t(o)},to:"/inputTable"},"STW\xd3RZ TABELE"))}),y=function(e){for(var t=e.table,a=e.handleSendData,n=e.getResolution,r=e.handleStart,o=t,i=function(e){var t=e.target.getAttribute("row"),n=e.target.getAttribute("col"),l=o.map((function(e){return e}));l[t][n]=+e.target.value,a(o=l)},u=[],s=0;s<t.length;s++){for(var y=[],h=0;h<t[s].length;h++)y.push(l.a.createElement("input",{onFocus:function(e){return e.target.value=""},style:s===t.length-1&&h===t[s].length-1?{opacity:0,cursor:"default"}:s===t.length-1||h===t[s].length-1?{backgroundColor:"#35ADC0"}:{},type:"number",key:s+""+h,row:s,col:h,onChange:i,value:t[s][h]}));var z=l.a.createElement("div",{className:"table",key:s},y);u.push(z)}return l.a.createElement(l.a.Fragment,null,u,l.a.createElement("div",{className:"btnWrap"},l.a.createElement(c.b,{to:"/"},"WSTECZ"),l.a.createElement(c.b,{onClick:r,to:"/step"},"KROK PO KROKU"),l.a.createElement(c.b,{onClick:n,to:"/resolution"},"ROZWI\u0104ZANIE")))},h=a(19),z=(a(32),function(e){var t=e.table,a=e.title,n=e.titleStyle,r=void 0===n?{}:n,o=e.styles,i=void 0===o?{}:o,c=e.cell,u=void 0===c?{x:null,y:null}:c,s=[];if(t.length>0)for(var y=0;y<t.length;y++){for(var z=[],f=0;f<t[y].length;f++){var m=y===t.length-1&&f===t[y].length-1?{fontSize:0,backgroundColor:"#35ADC0"}:y===t.length-1||f===t[y].length-1?{backgroundColor:"#35ADC0"}:{},g=y===u.y&&f===u.x?{color:"red"}:{};z.push(l.a.createElement("div",{key:f,className:"tableCell",style:Object(h.a)({},m,{},i,{},g)},null!=t[y][f]?t[y][f]:" "))}s.push(l.a.createElement("div",{key:y,className:"tableRow"}," ",z))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"tableTitle",style:r},a),l.a.createElement("div",{className:"tableBorder"},void 0!==t.length?s:l.a.createElement("div",null)))}),f=function(e){var t=e.zt,a=(e.start,Object(n.useState)([l.a.createElement(z,{key:0,table:t.Tabela,title:"Tablela koszt\xf3w"})])),r=Object(i.a)(a,2),o=r[0],u=r[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"btnWrap"},l.a.createElement(c.b,{to:"/"},"POWR\xd3T"),l.a.createElement("button",{onClick:function(){if(!t.Optymalne){var e=t.kolejnyKrok();if(console.log(e),0===e.caseIndex||1===e.caseIndex||2===e.caseIndex||3===e.caseIndex){var a=l.a.createElement(z,{key:o.length,table:e.data,title:e.desc});u([o[0],a])}else if(5===e.caseIndex){var n=l.a.createElement(z,{cell:e.data,key:o.length,table:t.nieBazyTable,title:e.desc});u([o[0],n])}else if(6===e.caseIndex){console.table(e.data.cykl);for(var r=t.getRozwiazanie().map((function(e){return e.map((function(e){return e}))})),i=0;i<e.data.cykl.length;i++)null!==r[e.data.cykl[i].x][e.data.cykl[i].y]?r[e.data.cykl[i].x][e.data.cykl[i].y]+=i%2===0?" +t":" -t":r[e.data.cykl[i].x][e.data.cykl[i].y]=i%2===0?" 0 +t":"0 -t";var c=l.a.createElement(z,{cell:e.data,key:o.length,table:r,title:e.desc});u([o[0],c])}if(7===e.caseIndex){var s=l.a.createElement(z,{key:o.length,table:e.data,title:"Przemieszczam warto\u015b\u0107 t= ".concat(t.T.value," po cyklu")});u([o[0],s])}if(0===e.caseIndex){var y=l.a.createElement("h2",{key:"koszt"},"Koszt optymalny to: ",t.kosztOptymalny),h=l.a.createElement(z,{key:o.length,table:t.getRozwiazanie(),title:"Rozwi\u0105zanie",titleStyle:{color:"green"}});u([o[0],h,y])}}}},"NAST\u0118PNY")),o)},m=a(18),g=function e(){var t=this;Object(m.a)(this,e),this.setTable=function(e){t.Tabela=e;for(var a=0;a<t.Tabela.length-1;a++)t.Podaz.push(t.Tabela[a][t.Tabela[a].length-1]);for(var n=0;n<t.Tabela[t.Tabela.length-1].length-1;n++)t.Popyt.push(t.Tabela[t.Tabela.length-1][n]);var l=0,r=0;if(t.Popyt.forEach((function(e){return l+=e})),t.Podaz.forEach((function(e){return r+=e})),r!==l){var o=Math.abs(r-l);if(l<r)t.Popyt.push(o),t.Tabela.forEach((function(e,a){a===t.Tabela.length-1?e.splice(e.length-1,0,o):e.splice(e.length-1,0,0)}));else if(l>r){var i=t.Tabela[0].map((function(e,a){return a===t.Tabela[0].length-1?o:0}));t.Tabela.splice(t.Tabela.length-1,0,i),t.Podaz.push(o)}}t.Koszty=[];for(var c=0;c<t.Tabela.length-1;c++){for(var u=[],s=0;s<t.Tabela[c].length-1;s++)u.push(t.Tabela[c][s]);t.Koszty.push(u)}},this.katPolnocnoZachodni=function(){var e=t.Koszty.map((function(e){return e.map((function(){return null}))})),a=t.Podaz.map((function(e){return e})),n=t.Popyt.map((function(e){return e}));e.forEach((function(t,l){return t.forEach((function(t,r){if(null==e[l][r]&&0!==a[l]&&0!==n[r]){var o=a[l]>n[r]?n[r]:a[l];e[l][r]=o,a[l]-=o,n[r]-=o}0===a[l]&&0===n[r]&&(l<e.length-1?e[l+1][r]=0:r<e[l].length-1&&(e[l][r+1]=0))}))})),t.Rozwiazanie=e},this.bazowePotencjaly=function(){var e=t.Podaz.map((function(){return null})),a=t.Popyt.map((function(){return null}));e[0]=0;for(var n=!1;t.hasEmpty(e)||t.hasEmpty(a);){n=!1;for(var l=0;l<=t.Rozwiazanie.length;l++){for(var r=0;r<=t.Rozwiazanie[l].length;r++)if(null!=t.Rozwiazanie[l][r]&&(null!=a[r]?null==e[l]:null!=e[l])){null==a[r]?a[r]=t.Koszty[l][r]-e[l]:null==e[l]&&(e[l]=t.Koszty[l][r]-a[r]),n=!0;break}if(n)break}}return t.nieBazy.Y=e.map((function(e){return e})),t.nieBazy.X=a.map((function(e){return e})),{Y:e,X:a}},this.nieBazowePotencjaly=function(){var e=t.return,a=e.X,n=e.Y,l=t.Koszty.map((function(e){return e.map((function(e){return e}))}));return t.Rozwiazanie.forEach((function(e,r){return e.forEach((function(e,o){null==t.Rozwiazanie[r][o]&&(l[r][o]=a[o]+n[r])}))})),l},this.czyOptymalne=function(){var e=!1,a=t.return;return a.forEach((function(n,l){return n.forEach((function(n,r){a[l][r]=a[l][r]-t.Koszty[l][r],a[l][r]>0&&(e=!0)}))})),!e&&(t.Optymalne=!0,!0)},this.najDodatnia=function(e){var t,a,n=0,l=[];if(e.forEach((function(e,t){e.forEach((function(e,a){e===n?l.push({y:t,x:a}):e>n&&(n=e,(l=[]).push({y:t,x:a}))}))})),1===l.length)a=l[0];else{var r=l[0].koszt;t=l[0],l.forEach((function(e){e.koszt<r&&(t=e)})),a=t}return a},this.cykl=function(){var e=t.return;t.Rozwiazanie[e.y][e.x]=0,t.Cykl=[],t.cyklRoz=!1;for(var a=0;a<t.Koszty[e.y].length;a++)null==t.Rozwiazanie[e.y][a]||a===e.x||t.cyklRoz||t.path(e,{y:e.y,x:a},t.Koszty.length+t.Koszty[e.y].length-1,"col",e)},this.hasInRow=function(e){for(var a=!1,n=0;n<t.Rozwiazanie[e.y].length;n++)null!=t.Rozwiazanie[e.y][n]&&(a=!0);return a},this.hasInCol=function(e){for(var a=!1,n=0;n<t.Rozwiazanie.length;n++)null!=t.Rozwiazanie[n][e.x]&&(a=!0);return a},this.path=function(e,a,n,l,r){var o=[];if(a.y===e.y&&a.x===e.x)return t.Cykl.push({y:a.y,x:a.x,value:t.Rozwiazanie[a.y][a.x]}),t.cyklRoz=!0,[r];if(n<0)return null;if(!t.cyklRoz){if("col"===l){if(t.hasInCol(a))for(var i=0;i<t.Rozwiazanie.length;i++)null!=t.Rozwiazanie[i][a.x]&&i!==a.y&&o.push(t.path(e,{x:a.x,y:i},n-1,"row",a))}else if("row"===l&&t.hasInRow(a))for(var c=0;c<t.Rozwiazanie[a.y].length;c++)null!=t.Rozwiazanie[a.y][c]&&c!==a.x&&o.push(t.path(e,{x:c,y:a.y},n-1,"col",a));return t.cyklRoz&&t.Cykl.push({y:a.y,x:a.x,value:t.Rozwiazanie[a.y][a.x]}),o}},this.elementMinimalnyCyklu=function(){for(var e={x:void 0,y:void 0,value:1/0},a=0;a<t.Cykl.length;a++)a%2===1&&(e.value>t.Cykl[a].value||e.value===t.Cykl[a].value&&t.Koszty[e.y][e.x]<t.Koszty[t.Cykl[a].y][t.Cykl[a].x])&&(e={x:t.Cykl[a].x,y:t.Cykl[a].y,value:t.Cykl[a].value});return e},this.moveTValue=function(){for(var e=t.elementMinimalnyCyklu(),a=0;a<t.Cykl.length;a++)a%2===0&&(t.Rozwiazanie[t.Cykl[a].y][t.Cykl[a].x]+=e.value),a%2===1&&(t.Rozwiazanie[t.Cykl[a].y][t.Cykl[a].x]-=e.value);t.Rozwiazanie[e.y][e.x]=null},this.hasEmpty=function(e){for(var t=0;t<e.length;t++)if(null==e[t])return!0;return!1},this.getRozwiazanie=function(){for(var e=t.Tabela.map((function(e){return e.map((function(e){return e}))})),a=0;a<t.Rozwiazanie.length;a++)for(var n=0;n<t.Rozwiazanie[a].length;n++)e[a][n]=t.Rozwiazanie[a][n];return e},this.getNieBazowe=function(){for(var e=t.Tabela.map((function(e){return e.map((function(e){return e}))})),a=0;a<t.return.length;a++)for(var n=0;n<t.return[a].length;n++)null===t.Rozwiazanie[a][n]?e[a][n]=t.return[a][n]-t.Koszty[a][n]:e[a][n]=null;for(var l=0;l<t.nieBazy.Y.length;l++)e[l][e[l].length-1]=t.nieBazy.Y[l];for(var r=0;r<t.nieBazy.X.length;r++)e[e.length-1][r]=t.nieBazy.X[r];return t.nieBazyTable=e.map((function(e){return e.map((function(e){return e}))})),e},this.getBazowe=function(){for(var e=t.Tabela.map((function(e){return e.map((function(e){return e}))})),a=0;a<e.length-1;a++)for(var n=0;n<e[a].length-1;n++)null!==t.Rozwiazanie[a][n]?e[a][n]=t.Koszty[a][n]:e[a][n]=null;for(var l=0;l<t.return.Y.length;l++)e[l][e[l].length-1]=t.return.Y[l];for(var r=0;r<t.return.X.length;r++)e[e.length-1][r]=t.return.X[r];return e},this.kolejnyKrok=function(){switch(t.next){case 0:for(var e=0;e<t.Rozwiazanie.length;e++)for(var a=0;a<t.Rozwiazanie[e].length;a++)t.kosztOptymalny+=t.Rozwiazanie[e][a]*t.Koszty[e][a];return{data:t.getRozwiazanie(),caseIndex:0,desc:"Optymalne"};case 1:return t.katPolnocnoZachodni(),t.next=2,{data:t.getRozwiazanie(),caseIndex:1,desc:"k\u0105t p\xf3\u0142nocno zachodni"};case 2:return t.return=t.bazowePotencjaly(),t.next=3,{data:t.getBazowe(),caseIndex:2,desc:"obliczam Potencja\u0142y dla bazowych"};case 3:return t.return=t.nieBazowePotencjaly(),t.next=4,{data:t.getNieBazowe(),caseIndex:3,desc:"obliczam potencja\u0142y dla nie bazowych"};case 4:return t.czyOptymalne()?(t.next=0,t.kolejnyKrok()):(t.next=5,{data:t.kolejnyKrok(),caseIndex:5,desc:"nie optymalne"});case 5:return t.return=t.najDodatnia(t.return),t.next=6,t.return;case 6:return t.cykl(),t.next=7,t.T=t.elementMinimalnyCyklu(),{data:{cykl:t.Cykl,t:t.T},caseIndex:6,desc:"tworz\u0119 cykl po kratkach nie bazowych"};case 7:return t.moveTValue(),t.next=2,{data:t.getRozwiazanie(),caseIndex:7,desc:"Przemieszczam warto\u015b\u0107 t po cyklu"}}},this.Tabela=[],this.Rozwiazanie=[],this.Koszty=[],this.Popyt=[],this.Podaz=[],this.kosztOptymalny=0,this.Optymalne=!1,this.Cykl=[],this.cyklRoz=!1,this.next=1,this.return=0,this.nieBazy={X:[],Y:[]},this.nieBazyTable=[],this.T=0};new g;var v=function(){var e=new g,t=Object(n.useState)([[]]),a=Object(i.a)(t,2),r=a[0],o=a[1],h=Object(n.useState)([[]]),m=Object(i.a)(h,2),v=m[0],p=m[1],b=Object(n.useState)(0),d=Object(i.a)(b,2),k=d[0],w=d[1],E=Object(n.useState)([]),x=Object(i.a)(E,2),R=x[0],T=x[1];return l.a.createElement(c.a,{basename:"/"},l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"Zagadnienie Transportowe"),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(s,{handleSubmit:function(e){for(var t=[],a=0;a<+e.row;a++){for(var n=[],l=0;l<+e.col;l++)n.push(1);t.push(n)}o(t)}})),l.a.createElement(u.a,{path:"/inputTable"},l.a.createElement(y,{table:r,handleSendData:function(e){o(e)},getResolution:function(t){for(e.setTable(r);!e.Optymalne;)e.kolejnyKrok();p(e.getRozwiazanie()),w(e.kosztOptymalny),T(r)},handleStart:function(){e.setTable(r)}})),l.a.createElement(u.a,{path:"/step"},l.a.createElement(f,{zt:e})),l.a.createElement(u.a,{path:"/resolution"},l.a.createElement(z,{table:R,title:"Tablela koszt\xf3w"}),l.a.createElement(z,{table:v,title:"Tabela wynik\xf3w"}),l.a.createElement("h4",null,"Koszt jest r\xf3wny: ",k),l.a.createElement(c.b,{to:"/"},"POWR\xd3T"))))))};o.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.d1dbd83c.chunk.js.map